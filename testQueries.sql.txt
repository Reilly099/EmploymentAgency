# Modified report 2 to include contact info

SELECT DISTINCT EMPLOYEE.NAME, JOB.TITLE, POSITION.TITLE, 
    POSITION.START_DATE, POSITION.SALARY, CONTACT.NAME, CONTACT.PHONE
    FROM EMPLOYEE, JOB, POSITION, CONTACT
        WHERE EMPLOYEE.EXPERTISE = POSITION.EXPERTISE
            AND POSITION.JOB_ID = JOB.JOB_ID
            AND JOB.COMPANY_ID = CONTACT.COMPANY_ID
            AND POSITION.FILLED = 'N'
            AND EMPLOYEE.EMPLOYED = 'N'
                ORDER BY EMPLOYEE.NAME;

# Modified report 3 to include not only fee, but salary payouts - the fee

SELECT COMPANY.NAME, CONTACT.NAME, JOB.TITLE, SUM(POSITION.SALARY * 0.15),
    SUM(POSITION.SALARY) - SUM(POSITION.SALARY * 0.15)
    FROM COMPANY, CONTACT, POSITION, JOB
        WHERE POSITION.FILLED='Y'
            AND POSITION.JOB_ID = JOB.JOB_ID
            AND JOB.COMPANY_ID = COMPANY.COMPANY_ID
            AND CONTACT.COMPANY_ID = COMPANY.COMPANY_ID
                GROUP BY COMPANY.NAME, CONTACT.NAME, JOB.TITLE
                ORDER BY SUM(POSITION.SALARY * 0.15) DESC;

# And then another version of report 3 not divided by job

SELECT COMPANY.NAME, CONTACT.NAME, SUM(POSITION.SALARY * 0.15),
    SUM(POSITION.SALARY) - SUM(POSITION.SALARY * 0.15)
    FROM COMPANY, CONTACT, POSITION, JOB
        WHERE POSITION.FILLED='Y'
            AND POSITION.JOB_ID = JOB.JOB_ID
            AND JOB.COMPANY_ID = COMPANY.COMPANY_ID
            AND CONTACT.COMPANY_ID = COMPANY.COMPANY_ID
                GROUP BY COMPANY.NAME, CONTACT.NAME
                ORDER BY SUM(POSITION.SALARY * 0.15) DESC;

# Get boss for hired employees

SELECT EMPLOYEE.NAME, POSITION.TITLE, CLIENT.NAME
    FROM JOB, POSITION, EMPLOYEE, COMPANY, CLIENT
        WHERE POSITION.JOB_ID = JOB.JOB_ID
            AND JOB.COMPANY_ID = COMPANY.COMPANY_ID
            AND COMPANY.CLIENT_ID = CLIENT.CLIENT_ID
            AND POSITION.FILLED = 'Y'
            AND POSITION.EMPLOYEE_ID = EMPLOYEE.EMPLOYEE_ID
                ORDER BY CLIENT.NAME DESC;